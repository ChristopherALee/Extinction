{"version":3,"sources":["webpack:///webpack/bootstrap 060f1d134fa9ca080a0a","webpack:///./scripts/sprite.js","webpack:///./scripts/main.js","webpack:///./scripts/player.js","webpack:///./scripts/bullet.js","webpack:///./scripts/collisions.js","webpack:///./scripts/enemies.js"],"names":["Sprite","url","srcPos","srcSize","canvasPos","canvasSize","speed","frames","timed","frameIdx","isDone","timeDifferential","ctx","frame","allFrames","length","idx","Math","floor","x","newImage","Image","src","drawImage","Player","Bullets","Monsters","isGameOver","activeKeys","checkKeyPress","setKey","e","status","keyCode","key","document","addEventListener","window","input","pressed","handleInput","duckPlayer","direction","sprite","duckSpriteLeft","duckSpriteRight","pos","duckSpriteIdleLeft","duckSpriteIdleRight","Date","now","previousShot","y","rightBullets","push","bullet","bulletDiagUp","bulletDiagDown","leftBullets","canvas","width","height","customRequestAnimationFrame","main","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","gameOver","$","show","reset","gameTime","spawnRate","willReset","leftMonsters","rightMonsters","hitAnimations","killAnimations","lastTime","currentTime","update","render","init","getElementById","getContext","deadPlayer","clearCanvas","clearRect","updateAll","spawnRightMonsters","spawnLeftMonsters","updateAnimation","i","currentRightBullet","splice","currentLeftBullet","renderEntity","forEach","monster","hit","kill","entity","save","translate","restore","introSong","onload","play","onGameScreen","pause","hide","isIntroMuted","isMainMuted","robotPlayer","isCollision","pos1X","pos1Y","size1X","size1Y","pos2X","pos2Y","size2X","size2Y","score","checkCollisions","player","innerHTML","enemyPos","enemySize","j","rightBulletPos","rightBulletSize","hp","type","leftBulletPos","leftBulletSize","monsterPos","monsterSize","k","taurospearRight","random","taurospearLeft","dragonTurtleRight","dragonTurtleLeft","balrogRight","balrogLeft","wyvernLeft","wyvernRight","monsters"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 060f1d134fa9ca080a0a","class Sprite {\n  constructor(url, srcPos, srcSize, canvasPos, canvasSize, speed, frames, timed) {\n    this.url = url;\n    this.srcPos = srcPos;\n    this.srcSize = srcSize;\n    this.canvasPos = canvasPos;\n    this.canvasSize = canvasSize;\n    this.speed = typeof speed === 'number' ? speed : 0;\n    this.frames = frames;\n    this.frameIdx = 0;\n    this.timed = timed;\n    this.isDone = false;\n  }\n\n\n  updateAnimation(timeDifferential) {\n    this.frameIdx += this.speed * timeDifferential;\n  }\n\n  render(ctx) {\n    let frame;\n\n    if (this.speed > 0) {\n      let allFrames = this.frames.length;\n      let idx = Math.floor(this.frameIdx);\n      frame = this.frames[idx % allFrames];\n\n      if (idx >= this.frames.length) {\n        this.isDone = true;\n      }\n    } else {\n      frame = 0;\n    }\n\n\n    let x = this.srcPos[0];\n    x += frame * this.srcSize[0];\n\n    let newImage = new Image(this.srcSize[0], this.srcSize[1]);\n    newImage.src = this.url;\n\n    if (!this.timed) {\n      ctx.drawImage(\n        newImage,\n        x, this.srcPos[1],\n        this.srcSize[0], this.srcSize[1],\n        this.canvasPos[0], this.canvasPos[1],\n        this.canvasSize[0], this.canvasSize[1]);\n    } else if (this.timed && !this.isDone) {\n      ctx.drawImage(\n        newImage,\n        x, this.srcPos[1],\n        this.srcSize[0], this.srcSize[1],\n        this.canvasPos[0], this.canvasPos[1],\n        this.canvasSize[0], this.canvasSize[1]);\n    }\n  }\n}\n\nexport default Sprite;\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/sprite.js","import Sprite from './sprite.js';\nimport * as Player from './player.js';\nimport * as Bullets from './bullet.js';\nimport checkCollisions from './collisions.js';\nimport * as Monsters from './enemies.js';\n\nlet isGameOver = false;\n\n// player movement on key-press w/ event listeners\nlet activeKeys = {};\nconst checkKeyPress = () => {\n  function setKey(e, status) {\n    let keyCode = e.keyCode;\n    let key;\n\n    switch (keyCode) {\n      case 87:\n        key = 'UP';\n        activeKeys[key] = status;\n        break;\n      case 83:\n        key = 'DOWN';\n        activeKeys[key] = status;\n        break;\n      case 65:\n        key = 'LEFT';\n        activeKeys[key] = status;\n        break;\n      case 68:\n        key = 'RIGHT';\n        activeKeys[key] = status;\n        break;\n      case 75:\n        key = 'SHOOT';\n        activeKeys[key] = status;\n        break;\n    }\n  }\n\n  document.addEventListener('keydown', (e) => {\n    setKey(e, true);\n  });\n\n  document.addEventListener('keyup', (e) => {\n    setKey(e, false);\n  });\n\n  window.input = {\n    pressed: (key) => {\n      return activeKeys[key];\n    }\n  };\n};\ncheckKeyPress();\n\nfunction handleInput(timeDifferential) {\n\n  // handles player movement\n  if (window.input.pressed('DOWN') && !isGameOver) {\n    if (Player.duckPlayer.direction === 'LEFT') {\n      Player.duckPlayer.sprite = Player.duckSpriteLeft;\n    } else {\n      Player.duckPlayer.sprite = Player.duckSpriteRight;\n    }\n    Player.duckPlayer.pos[1] += Player.duckPlayer.speed * timeDifferential;\n  }\n\n  if (window.input.pressed('UP') && !isGameOver) {\n    if (Player.duckPlayer.direction === 'LEFT') {\n      Player.duckPlayer.sprite = Player.duckSpriteLeft;\n    } else {\n      Player.duckPlayer.sprite = Player.duckSpriteRight;\n    }\n    Player.duckPlayer.pos[1] -= Player.duckPlayer.speed * timeDifferential;\n  }\n\n  if (window.input.pressed('LEFT') && !isGameOver) {\n    Player.duckPlayer.direction = 'LEFT';\n    Player.duckPlayer.sprite = Player.duckSpriteLeft;\n    Player.duckPlayer.pos[0] -= Player.duckPlayer.speed * timeDifferential;\n  }\n\n  if (window.input.pressed('RIGHT') && !isGameOver) {\n    Player.duckPlayer.direction = 'RIGHT';\n    Player.duckPlayer.sprite = Player.duckSpriteRight;\n    Player.duckPlayer.pos[0] += Player.duckPlayer.speed * timeDifferential;\n  }\n\n  if (\n    (!activeKeys['LEFT'] && !activeKeys['UP'] && !activeKeys['DOWN'])\n    && Player.duckPlayer.direction === 'LEFT') {\n    Player.duckPlayer.sprite = Player.duckSpriteIdleLeft;\n  }\n  if (\n    (!activeKeys['RIGHT'] && !activeKeys['UP'] && !activeKeys['DOWN'])\n    && Player.duckPlayer.direction === 'RIGHT') {\n    Player.duckPlayer.sprite = Player.duckSpriteIdleRight;\n  }\n\n  // handles directional shooting\n  if (window.input.pressed('SHOOT') && !isGameOver && Player.duckPlayer.direction === 'RIGHT' && ((Date.now() - previousShot) > 88)) {\n    let x = Player.duckPlayer.pos[0] + (Player.duckPlayer.sprite.srcSize[0] / 2 + 15);\n    let y = Player.duckPlayer.pos[1] + (Player.duckPlayer.sprite.srcSize[1] / 2 + 6);\n\n    rightBullets.push(Bullets.bullet(x,y));\n    rightBullets.push(Bullets.bulletDiagUp(x,y));\n    rightBullets.push(Bullets.bulletDiagDown(x,y));\n    previousShot = Date.now();\n  } else if (window.input.pressed('SHOOT') && !isGameOver && Player.duckPlayer.direction === 'LEFT' && ((Date.now() - previousShot) > 88)) {\n    let x = Player.duckPlayer.pos[0] - (Player.duckPlayer.sprite.srcSize[0] / 2 - 15);\n    let y = Player.duckPlayer.pos[1] + (Player.duckPlayer.sprite.srcSize[1] / 2 + 5);\n\n    leftBullets.push(Bullets.bullet(x,y));\n    leftBullets.push(Bullets.bulletDiagUp(x,y));\n    leftBullets.push(Bullets.bulletDiagDown(x,y));\n    previousShot = Date.now();\n  }\n\n  // handles Player.duckPlayer boundaries\n  if (Player.duckPlayer.pos[0] < 0) {\n     Player.duckPlayer.pos[0] = 0;\n   }\n   else if (Player.duckPlayer.pos[0] >= canvas.width - Player.duckPlayer.sprite.srcSize[0] - 10) {\n     Player.duckPlayer.pos[0] = canvas.width - Player.duckPlayer.sprite.srcSize[0] - 10;\n   }\n\n   if (Player.duckPlayer.pos[1] < 0) {\n     Player.duckPlayer.pos[1] = 0;\n   }\n   else if (Player.duckPlayer.pos[1] >= canvas.height - Player.duckPlayer.sprite.srcSize[1] - 15) {\n     Player.duckPlayer.pos[1] = canvas.height - Player.duckPlayer.sprite.srcSize[1] - 15;\n   }\n}\n\nconst customRequestAnimationFrame = (main) => {\n  return (\n    window.requestAnimationFrame(main) ||\n    window.mozRequestAnimationFrame(main) ||\n    window.webkitRequestAnimationFrame(main) ||\n    window.msRequestAnimationFrame(main)\n  );\n};\n\nexport const gameOver = () => {\n  $(\".gameover-overlay\").show();\n  $(\".gameover-screen\").show();\n  isGameOver = true;\n};\n\nconst reset = () => {\n  gameTime = 0;\n  spawnRate = 200;\n  willReset = false;\n  leftBullets = [];\n  rightBullets = [];\n  leftMonsters = [];\n  rightMonsters = [];\n  hitAnimations = [];\n  killAnimations = [];\n  isGameOver = false;\n  Player.duckPlayer.pos = [550, 350];\n};\n\nlet lastTime;\nfunction main() {\n  let currentTime = Date.now();\n  let timeDifferential = (currentTime - lastTime) / 1000.0;\n  lastTime = currentTime;\n\n  update(timeDifferential);\n  customRequestAnimationFrame(main);\n  render();\n}\n\nfunction init() {\n  lastTime = Date.now();\n  main();\n}\n\n// Game state\nlet canvas = document.getElementById('canvas');\nlet ctx = canvas.getContext('2d');\nconst deadPlayer = () => {\n  return {\n    pos: Player.duckPlayer.pos,\n    sprite: new Sprite (\n      'https://i.imgur.com/bxHEJ6i.png',\n      [15, 350],\n      [60, 60],\n      [0, 0],\n      [75, 75],\n      1,\n      [0]\n    ),\n    speed: 388,\n    direction: 'RIGHT'\n  };\n};\nlet gameTime = 0;\nlet willReset = false;\n\nlet spawnRate = 200;\n\nlet leftBullets = [];\nlet rightBullets = [];\nlet previousShot = Date.now();\n\nlet leftMonsters = [];\nlet rightMonsters = [];\n\nlet hitAnimations = [];\nlet killAnimations = [];\n\nfunction clearCanvas() {\n  ctx.clearRect(0, 0, 1200, 700);\n}\n\nfunction update(timeDifferential) {\n  gameTime += timeDifferential;\n\n  if (spawnRate < 0) {\n    spawnRate = 200;\n  } else {\n    spawnRate -= 1;\n  }\n\n  clearCanvas();\n  handleInput(timeDifferential);\n  updateAll(timeDifferential);\n  checkCollisions(Player.duckPlayer, willReset, leftBullets, rightBullets, leftMonsters, rightMonsters, hitAnimations, killAnimations);\n\n  Monsters.spawnRightMonsters(gameTime, canvas, rightMonsters, spawnRate);\n  Monsters.spawnLeftMonsters(gameTime, canvas, leftMonsters, spawnRate);\n}\n\nfunction updateAll(timeDifferential) {\n  Player.duckPlayer.sprite.updateAnimation(timeDifferential);\n\n  // persisting bullet animations upon moving character direction\n  for (let i = 0; i < rightBullets.length; i++) {\n    let currentRightBullet = rightBullets[i];\n\n    switch (currentRightBullet.direction) {\n      case 'straight':\n        currentRightBullet.pos[0] += currentRightBullet.speed * timeDifferential;\n        break;\n      case 'diagUp':\n        currentRightBullet.pos[0] += (currentRightBullet.speed) * timeDifferential;\n        currentRightBullet.pos[1] -= (currentRightBullet.speed - 800) * timeDifferential;\n        break;\n      case 'diagDown':\n        currentRightBullet.pos[0] += (currentRightBullet.speed) * timeDifferential;\n        currentRightBullet.pos[1] += (currentRightBullet.speed - 800) * timeDifferential;\n        break;\n    }\n\n    if (\n      currentRightBullet.pos[0] > canvas.width ||\n      currentRightBullet.pos[1] > canvas.height ||\n      currentRightBullet.pos[1] < 0\n    ) {\n      rightBullets.splice(i, 1);\n      i -= 1;\n    }\n  }\n  for (let i = 0; i < leftBullets.length; i++) {\n    let currentLeftBullet = leftBullets[i];\n\n    switch (currentLeftBullet.direction) {\n      case 'straight':\n        currentLeftBullet.pos[0] -= (currentLeftBullet.speed) * timeDifferential;\n        break;\n      case 'diagUp':\n        currentLeftBullet.pos[0] -= (currentLeftBullet.speed) * timeDifferential;\n        currentLeftBullet.pos[1] -= (currentLeftBullet.speed - 800) * timeDifferential;\n        break;\n      case 'diagDown':\n        currentLeftBullet.pos[0] -= currentLeftBullet.speed * timeDifferential;\n        currentLeftBullet.pos[1] += (currentLeftBullet.speed - 800) * timeDifferential;\n        break;\n    }\n\n    if (\n      currentLeftBullet.pos[0] > canvas.width ||\n      currentLeftBullet.pos[1] > canvas.height ||\n      currentLeftBullet.pos[1] < 0\n    ) {\n      leftBullets.splice(i, 1);\n      i -= 1;\n    }\n  }\n\n  for (let i = 0; i < leftMonsters.length; i++) {\n    leftMonsters[i].pos[0] += leftMonsters[i].speed * timeDifferential;\n\n      switch (leftMonsters[i].direction) {\n        case 'straight':\n        break;\n        case 'diagUp':\n        leftMonsters[i].pos[1] -= (leftMonsters[i].speed / 4) * timeDifferential;\n        break;\n        case 'diagDown':\n        leftMonsters[i].pos[1] += (leftMonsters[i].speed / 4) * timeDifferential;\n        break;\n      }\n\n    leftMonsters[i].sprite.updateAnimation(timeDifferential);\n\n    if (\n      leftMonsters[i].pos[0] > canvas.width ||\n      leftMonsters[i].pos[1] + leftMonsters[i].sprite.srcSize[1] < 0 ||\n      leftMonsters[i].pos[1] > canvas.height\n    ) {\n      leftMonsters.splice(i, 1);\n      i -= 1;\n    }\n  }\n\n  for (let i = 0; i < rightMonsters.length; i++) {\n    rightMonsters[i].pos[0] -= rightMonsters[i].speed * timeDifferential;\n\n    switch (rightMonsters[i].direction) {\n      case 'straight':\n      break;\n      case 'diagUp':\n      rightMonsters[i].pos[1] -= (rightMonsters[i].speed / 4) * timeDifferential;\n      break;\n      case 'diagDown':\n      rightMonsters[i].pos[1] += (rightMonsters[i].speed / 4) * timeDifferential;\n      break;\n    }\n\n    rightMonsters[i].sprite.updateAnimation(timeDifferential);\n\n    if (\n      rightMonsters[i].pos[0] + rightMonsters[i].sprite.srcSize[0] < 0 ||\n      rightMonsters[i].pos[1] + rightMonsters[i].sprite.srcSize[1] < 0 ||\n      rightMonsters[i].pos[1] > canvas.height\n    ) {\n      rightMonsters.splice(i, 1);\n      i -= 1;\n    }\n  }\n\n  // animate hit animations\n  for (let i = 0; i < hitAnimations.length; i++) {\n    hitAnimations[i].sprite.updateAnimation(timeDifferential);\n\n    if (hitAnimations[i].sprite.isDone) {\n      hitAnimations.splice(i, 1);\n      i -=1;\n    }\n  }\n\n  // animate kill animations\n  for (let i = 0; i < killAnimations.length; i++) {\n    killAnimations[i].sprite.updateAnimation(timeDifferential);\n\n    if (killAnimations[i].sprite.isDone) {\n      killAnimations.splice(i, 1);\n      i -= 1;\n    }\n  }\n\n}\n\nfunction render() {\n  if (isGameOver) {\n    renderEntity(deadPlayer());\n  } else {\n    renderEntity(Player.duckPlayer);\n  }\n\n  leftBullets.forEach( (bullet) => renderEntity(bullet));\n  rightBullets.forEach( (bullet) => renderEntity(bullet));\n\n  leftMonsters.forEach( (monster) => { renderEntity(monster); });\n  rightMonsters.forEach( (monster) => { renderEntity(monster); });\n\n  hitAnimations.forEach( (hit) => { renderEntity(hit); });\n  killAnimations.forEach( (kill) => { renderEntity(kill); });\n}\n\nfunction renderEntity(entity) {\n  ctx.save();\n  ctx.translate(entity.pos[0], entity.pos[1]);\n  entity.sprite.render(ctx);\n  ctx.restore();\n}\n\nlet introSong = document.getElementById(\"intro-song\");\nintroSong.currentTime = 4;\nwindow.onload = introSong.play();\nlet onGameScreen = false;\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.keyCode == 32) {\n    // press spacebar to start the game\n    document.getElementById(\"intro-song\").pause();\n    document.getElementById(\"main-song\").play();\n\n    $(\".start-screen\").hide();\n    $(\"#canvas\").show();\n    onGameScreen = true;\n    init();\n  } else if (e.keyCode == 13) {\n    // press enter to play again\n    $(\".gameover-overlay\").hide();\n    $(\".gameover-screen\").hide();\n    reset();\n    willReset = true;\n  }\n});\n\nlet isIntroMuted = false;\nlet isMainMuted = false;\n$('#mute')[0].addEventListener('click', () => {\n  if (onGameScreen) {\n    if (isMainMuted) {\n      document.getElementById(\"main-song\").play();\n      isMainMuted = false;\n    } else {\n      document.getElementById(\"main-song\").pause();\n      isMainMuted = true;\n    }\n  } else {\n    if (isIntroMuted) {\n      document.getElementById(\"intro-song\").play();\n      isIntroMuted = false;\n    } else {\n      document.getElementById(\"intro-song\").pause();\n      isIntroMuted = true;\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/main.js","import Sprite from './sprite.js';\n\n// robot player\nexport const robotPlayer = {\n    pos: [550, 350],\n    sprite: new Sprite(\n      'https://i.imgur.com/6n1qcVc.png',\n      [125, 874],\n      [100, 100],\n      [0, 0],\n      [100, 100],\n      5,\n      [0]),\n    speed: 388,\n    direction: 'RIGHT'\n};\n\n// duck player\nexport const duckSpriteIdleLeft = new Sprite(\n  'https://i.imgur.com/IsLSheM.png',\n  [0, 37.7],\n  [60, 60],\n  [0, 0],\n  [75, 75],\n  8,\n  [0]);\n\nexport const duckSpriteIdleRight = new Sprite(\n  'https://i.imgur.com/bxHEJ6i.png',\n  [93, 37.7],\n  [60, 60],\n  [0, 0],\n  [75, 75],\n  8,\n  [0]);\n\nexport const duckSpriteLeft = new Sprite(\n  'https://i.imgur.com/IsLSheM.png',\n  [0, 145],\n  [60, 60],\n  [0, 0],\n  [75, 75],\n  8,\n  [0, 1, 2, 3]);\n\nexport const duckSpriteRight = new Sprite(\n  'https://i.imgur.com/bxHEJ6i.png',\n  [88, 145],\n  [60, 60],\n  [0, 0],\n  [75, 75],\n  8,\n  [0, 1, 2, 3]);\n\n// starting position\nexport const duckPlayer = {\n  pos: [550, 350],\n  sprite: duckSpriteIdleRight,\n  speed: 388,\n  direction: 'RIGHT'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/player.js","import Sprite from './sprite.js';\n\nexport const bullet = (x, y) => {\n  return {\n    pos: [x,y],\n    sprite: new Sprite(\n      'https://i.imgur.com/6n1qcVc.png',\n      [725, 190],\n      [60, 60],\n      [0, 0],\n      [60, 60],\n      0,\n      [0]),\n    speed: 1000,\n    direction: 'straight'\n  };\n};\n\nexport const bulletDiagUp = (x, y) => {\n  return {\n    pos: [x,y],\n    sprite: new Sprite(\n      'https://i.imgur.com/6n1qcVc.png',\n      [725, 190],\n      [60, 60],\n      [0, 0],\n      [60, 60],\n      0,\n      [0]\n    ),\n    speed: 1000,\n    direction: 'diagUp'\n  };\n};\n\nexport const bulletDiagDown = (x, y) => {\n  return {\n    pos: [x,y],\n    sprite: new Sprite(\n      'https://i.imgur.com/6n1qcVc.png',\n      [725, 190],\n      [60, 60],\n      [0, 0],\n      [60, 60],\n      0,\n      [0]\n    ),\n    speed: 1000,\n    direction: 'diagDown'\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/bullet.js","import Sprite from './sprite.js';\nimport {gameOver} from './main.js';\n\nfunction isCollision(\n  pos1X, pos1Y, size1X, size1Y,\n  pos2X, pos2Y, size2X, size2Y) {\n    return (\n      pos1X < pos2X + size2X - 50 &&\n      pos1X + size1X - 100 > pos2X &&\n      pos1Y < pos2Y + size2Y - 70 &&\n      size1X + pos1Y > pos2Y\n    );\n}\n\nlet score = 0;\n\nfunction checkCollisions(player, willReset, leftBullets, rightBullets, leftMonsters, rightMonsters, hitAnimations, killAnimations) {\n\n  if (\n    willReset\n    && rightMonsters.length === 0\n    && leftMonsters.length === 0\n  ) {\n    score = 0;\n  }\n\n  document.getElementById('score').innerHTML = `Score: ${score}`;\n\n  // right monster collisions\n  for (let i = 0; i < rightMonsters.length; i++) {\n    let enemyPos = rightMonsters[i].pos;\n    let enemySize = rightMonsters[i].sprite.srcSize;\n\n    // player death\n    if (isCollision(\n      enemyPos[0], enemyPos[1] - 100, enemySize[0], enemySize[1],\n      player.pos[0], player.pos[1], player.sprite.srcSize[0], player.sprite.srcSize[1]\n    )) {\n      gameOver();\n    }\n\n    for (let j = 0; j < rightBullets.length; j++) {\n      let rightBulletPos = rightBullets[j].pos;\n      let rightBulletSize = rightBullets[j].sprite.srcSize;\n\n      if (isCollision(\n        enemyPos[0], enemyPos[1], enemySize[0], enemySize[1],\n        rightBulletPos[0], rightBulletPos[1], rightBulletSize[0], rightBulletSize[1])) {\n\n          rightMonsters[i].hp -= 1;\n          rightBullets.splice(j, 1);\n\n          hitAnimations.push({\n            pos: rightBulletPos,\n            sprite: new Sprite(\n              'https://i.imgur.com/LpgLmNZ.png',\n              [35, 860],\n              [75, 75],\n              [0, 0],\n              [40, 40],\n              10,\n              [0],\n              true\n            )\n          });\n\n          if (rightMonsters[i].hp === 0) {\n            // death animation\n            switch (rightMonsters[i].type) {\n              case 'balrog':\n                killAnimations.push({\n                  pos: enemyPos,\n                  sprite: new Sprite(\n                    'https://i.imgur.com/WvHlsqj.png',\n                    [-50, 2350],\n                    [230, 230],\n                    [0, 0],\n                    [200, 200],\n                    5,\n                    [0, 1, 2],\n                    true\n                  )\n                });\n                score += 2;\n              break;\n            case 'taurospear':\n              killAnimations.push({\n                pos: enemyPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/jHYJaMs.png',\n                  [-10, 930],\n                  [215, 175],\n                  [0, 0],\n                  [190, 190],\n                  6,\n                  [0, 1, 2, 3, 4, 5, 6, 7],\n                  true\n                )\n              });\n              score += 3;\n              break;\n            case 'wyvern':\n              killAnimations.push({\n                pos: enemyPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/MAUkqfk.png',\n                  [5, 1600],\n                  [175, 175],\n                  [0, 0],\n                  [170, 170],\n                  6,\n                  [0, 1, 2, 3, 4, 5, 6],\n                  true\n                )\n              });\n              score += 1;\n              break;\n            }\n\n          document.getElementById('score').innerHTML = `Score: ${score}`;\n          rightMonsters.splice(i, 1);\n          i -= 1;\n\n          break;\n        }\n      }\n    }\n\n    for (let j = 0; j < leftBullets.length; j++) {\n      let leftBulletPos = leftBullets[j].pos;\n      let leftBulletSize = leftBullets[j].sprite.srcSize;\n\n      if (isCollision(\n        enemyPos[0], enemyPos[1], enemySize[0], enemySize[1],\n        leftBulletPos[0], leftBulletPos[1], leftBulletSize[0], leftBulletSize[1])) {\n\n          rightMonsters[i].hp -= 1;\n          leftBullets.splice(j, 1);\n\n          hitAnimations.push({\n            pos: leftBulletPos,\n            sprite: new Sprite(\n              'https://i.imgur.com/LpgLmNZ.png',\n              [35, 860],\n              [75, 75],\n              [0, 0],\n              [40, 40],\n              10,\n              [0],\n              true\n            )\n          });\n\n          if (rightMonsters[i].hp === 0) {\n            switch (rightMonsters[i].type) {\n              case 'balrog':\n              killAnimations.push({\n                pos: enemyPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/WvHlsqj.png',\n                  [-50, 2350],\n                  [230, 230],\n                  [0, 0],\n                  [200, 200],\n                  5,\n                  [0, 1, 2],\n                  true\n                )\n              });\n              score += 2;\n              break;\n              case 'taurospear':\n              killAnimations.push({\n                pos: enemyPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/jHYJaMs.png',\n                  [-10, 930],\n                  [215, 175],\n                  [0, 0],\n                  [190, 190],\n                  6,\n                  [0, 1, 2, 3, 4, 5, 6, 7],\n                  true\n                )\n              });\n              score += 3;\n              break;\n              case 'wyvern':\n              killAnimations.push({\n                pos: enemyPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/MAUkqfk.png',\n                  [5, 1600],\n                  [175, 175],\n                  [0, 0],\n                  [170, 170],\n                  6,\n                  [0, 1, 2, 3, 4, 5, 6],\n                  true\n                )\n              });\n              score += 1;\n              break;\n            }\n\n            document.getElementById('score').innerHTML = `Score: ${score}`;\n            rightMonsters.splice(i, 1);\n            i -= 1;\n          }\n          break;\n      }\n    }\n  }\n\n  // left monster collisions\n  for (let i = 0; i < leftMonsters.length; i++) {\n    let monsterPos = leftMonsters[i].pos;\n    let monsterSize = leftMonsters[i].sprite.srcSize;\n\n    // player death\n    if (isCollision(\n      monsterPos[0], monsterPos[1] - 100, monsterSize[0], monsterSize[1],\n      player.pos[0], player.pos[1], player.sprite.srcSize[0], player.sprite.srcSize[1]\n    )) {\n      gameOver();\n    }\n\n    for (let j = 0; j < leftBullets.length; j++) {\n      let leftBulletPos = leftBullets[j].pos;\n      let leftBulletSize = leftBullets[j].sprite.srcSize;\n\n      if (isCollision(\n        monsterPos[0], monsterPos[1], monsterSize[0], monsterSize[1],\n        leftBulletPos[0], leftBulletPos[1], leftBulletSize[0], leftBulletSize[1]\n      )) {\n\n        leftMonsters[i].hp -= 1;\n        leftBullets.splice(j, 1);\n\n        hitAnimations.push({\n          pos: leftBulletPos,\n          sprite: new Sprite(\n            'https://i.imgur.com/LpgLmNZ.png',\n            [35, 860],\n            [75, 75],\n            [0, 0],\n            [40, 40],\n            10,\n            [0],\n            true\n          )\n        });\n\n        if (leftMonsters[i].hp === 0) {\n          // left monster kill animations\n          switch (leftMonsters[i].type) {\n            case 'balrog':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/xQBSQHu.png',\n                  [430, 2350],\n                  [230, 230],\n                  [0, 0],\n                  [200, 200],\n                  5,\n                  [2, 1, 0],\n                  true\n                )\n              });\n              score += 2;\n              break;\n            case 'taurospear':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/6TPUotY.png',\n                  [1800, 930],\n                  [215, 175],\n                  [0, 0],\n                  [190, 190],\n                  6,\n                  [7, 6, 5, 4, 3, 2, 1, 0],\n                  true\n                )\n              });\n              score += 3;\n              break;\n            case 'wyvern':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/EdvKlUj.png',\n                  [1640, 1600],\n                  [175, 175],\n                  [0, 0],\n                  [170, 170],\n                  6,\n                  [6, 5, 4, 3, 2, 1, 0],\n                  true\n                )\n              });\n              score += 1;\n              break;\n          }\n\n          document.getElementById('score').innerHTML = `Score: ${score}`;\n          leftMonsters.splice(i, 1);\n          i -= 1;\n        }\n\n        break;\n      }\n    }\n\n    for (let k = 0; k < rightBullets.length; k++) {\n      let rightBulletPos = rightBullets[k].pos;\n      let rightBulletSize = rightBullets[k].sprite.srcSize;\n\n      if (isCollision(\n        monsterPos[0], monsterPos[1], monsterSize[0], monsterSize[1],\n        rightBulletPos[0], rightBulletPos[1], rightBulletSize[0], rightBulletSize[1]\n      )) {\n\n        leftMonsters[i].hp -= 1;\n        rightBullets.splice(k, 1);\n\n        hitAnimations.push({\n          pos: rightBulletPos,\n          sprite: new Sprite(\n            'https://i.imgur.com/LpgLmNZ.png',\n            [35, 860],\n            [75, 75],\n            [0, 0],\n            [40, 40],\n            10,\n            [0],\n            true\n          )\n        });\n\n        if (leftMonsters[i].hp === 0) {\n          // left monster kill animations\n          switch (leftMonsters[i].type) {\n            case 'balrog':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/xQBSQHu.png',\n                  [430, 2350],\n                  [230, 230],\n                  [0, 0],\n                  [200, 200],\n                  5,\n                  [2, 1, 0],\n                  true\n                )\n              });\n              score += 1;\n              break;\n            case 'taurospear':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/6TPUotY.png',\n                  [1800, 930],\n                  [215, 175],\n                  [0, 0],\n                  [190, 190],\n                  6,\n                  [7, 6, 5, 4, 3, 2, 1, 0],\n                  true\n                )\n              });\n              score += 3;\n              break;\n            case 'wyvern':\n              killAnimations.push({\n                pos: monsterPos,\n                sprite: new Sprite(\n                  'https://i.imgur.com/EdvKlUj.png',\n                  [1640, 1600],\n                  [175, 175],\n                  [0, 0],\n                  [170, 170],\n                  6,\n                  [6, 5, 4, 3, 2, 1, 0],\n                  true\n                )\n              });\n              score += 1;\n              break;\n          }\n\n          document.getElementById('score').innerHTML = `Score: ${score}`;\n          leftMonsters.splice(i, 1);\n          i -= 1;\n        }\n\n        break;\n      }\n    }\n  }\n}\n\nexport default checkCollisions;\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/collisions.js","import Sprite from './sprite.js';\n\nexport const direction = ['straight', 'diagUp', 'diagDown'];\n\nexport const taurospearRight = {\n  hp: 20,\n  type: 'taurospear',\n  pos: [1200, Math.random() * (700 - 175)],\n  sprite: new Sprite(\n    'https://i.imgur.com/jHYJaMs.png',\n    [5, 175],\n    [215, 175],\n    [0, 0],\n    [190, 190],\n    6,\n    [0, 1, 2],\n  false),\n  speed: 400\n};\nexport const taurospearLeft = {\n  hp: 20,\n  type: 'taurospear',\n  pos: [0 - 215, Math.random() * (700 - 175)],\n  sprite: new Sprite(\n    'https://i.imgur.com/6TPUotY.png',\n    [2175, 175],\n    [215, 175],\n    [0, 0],\n    [190, 190],\n    6,\n    [2, 1, 0],\n  false),\n  speed: 400\n};\n\nexport const dragonTurtleRight = {\n  type: 'dragonTurtle',\n  pos: [1200, Math.random() * (700 - 130)],\n  sprite: new Sprite(\n    'https://i.imgur.com/LRtOtZ3.png',\n    [-5, 125],\n    [140, 130],\n    [0, 0],\n    [150, 150],\n    3,\n    [0, 1, 2, 3, 4, 5],\n  false),\n  speed: 100\n};\nexport const dragonTurtleLeft = {\n  type: 'dragonTurtle',\n  pos: [0 - 140, Math.random() * (700 - 130)],\n  sprite: new Sprite(\n    'https://i.imgur.com/a3LCa6u.png',\n    [1100, 125],\n    [140, 130],\n    [0, 0],\n    [150, 150],\n    3,\n    [5, 4, 3, 2, 1, 0],\n  false),\n  speed: 100\n};\n\nexport const balrogRight = {\n  hp: 10,\n  type: 'balrog',\n  pos: [1200, Math.random() * (700 - 178)],\n  sprite: new Sprite(\n    'https://i.imgur.com/WvHlsqj.png',\n    [15, 240],\n    [178, 178],\n    [0, 0],\n    [175, 165],\n    3,\n    [0, 1, 2, 3],\n    false\n  ),\n  speed: 200\n};\nexport const balrogLeft = {\n  hp: 10,\n  type: 'balrog',\n  pos: [0 - 178, Math.random() * (700 - 178)],\n  sprite: new Sprite(\n    'https://i.imgur.com/xQBSQHu.png',\n    [162, 240],\n    [178, 178],\n    [0, 0],\n    [175, 165],\n    3,\n    [3,2,1,0],\n    false\n  ),\n  speed: 200\n};\n\nexport const wyvernLeft = {\n  hp: 5,\n  type: 'wyvern',\n  pos: [0 - 175, Math.random() * (700 - 175)],\n  sprite: new Sprite(\n    'https://i.imgur.com/EdvKlUj.png',\n    [1817, 0],\n    [175, 175],\n    [0, 0],\n    [170, 170],\n    8,\n    [0,1,2,3,4,5,4,3,2,1],\n    false\n  ),\n  speed: 300,\n  direction: direction[Math.floor(Math.random() * direction.length)]\n};\n\nexport const wyvernRight = {\n  hp: 5,\n  type: 'wyvern',\n  pos: [1200, Math.random() * (700 - 175)],\n  sprite: new Sprite(\n    'https://i.imgur.com/MAUkqfk.png',\n    [5, 0],\n    [175, 175],\n    [0, 0],\n    [170, 170],\n    8,\n    [0,1,2,3,4,5,4,3,2,1],\n    false\n  ),\n  speed: 300,\n  direction: direction[Math.floor(Math.random() * direction.length)]\n};\n\nexport const spawnRightMonsters= (gameTime, canvas, monsters, spawnRate) => {\n\n  // spawn balrog from right\n  if (spawnRate === 0) {\n    monsters.push({\n      hp: 10,\n      type: 'balrog',\n      pos: [canvas.width, Math.random() * (canvas.height - 178)],\n      sprite: new Sprite(\n        'https://i.imgur.com/WvHlsqj.png',\n        [15, 240],\n        [178, 178],\n        [0, 0],\n        [175, 165],\n        4,\n        [0, 1, 2, 3],\n        false\n      ),\n      speed: 150,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n  }\n\n  // spawn dragonTurtle from right\n  // if (Math.floor(gameTime * 1000) % 27 === 0) {\n  //   monsters.push({\n  //     pos: [canvas.width, Math.random() * (canvas.height - 130)],\n  //     sprite: new Sprite(\n  //       'https://i.imgur.com/LRtOtZ3.png',\n  //       [-5, 125],\n  //       [140, 130],\n  //       [0, 0],\n  //       [150, 150],\n  //       4,\n  //       [0, 1, 2, 3, 4, 5]),\n  //     speed: 150,\n  //     direction: direction[Math.floor(Math.random() * direction.length)]\n  //   });\n  // }\n\n  // spawn taurospear from right\n  if (spawnRate === 0) {\n    monsters.push({\n      hp: 20,\n      type: 'taurospear',\n      pos: [canvas.width, Math.random() * (canvas.height - 175)],\n      sprite: new Sprite(\n        'https://i.imgur.com/jHYJaMs.png',\n        [5, 175],\n        [215, 175],\n        [0, 0],\n        [190, 190],\n        6,\n        [0, 1, 2],\n        false),\n      speed: 400,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n  }\n\n  // spawn wyvern from right\n  if (spawnRate === 0) {\n    monsters.push({\n      hp: 5,\n      type: 'wyvern',\n      pos: [canvas.width, Math.random() * (canvas.height - 175)],\n      sprite: new Sprite(\n        'https://i.imgur.com/MAUkqfk.png',\n        [5, 0],\n        [175, 175],\n        [0, 0],\n        [170, 170],\n        8,\n        [0,1,2,3,4,5,4,3,2,1],\n        false\n      ),\n      speed: 300,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n  }\n};\n\nexport const spawnLeftMonsters = (gameTime, canvas, monsters, spawnRate) => {\n  if (spawnRate === 0) {\n    // spawn balrog from left\n    monsters.push({\n      hp: 10,\n      type: 'balrog',\n      pos: [0 - 178, Math.random() * (canvas.height - 178)],\n      sprite: new Sprite(\n        'https://i.imgur.com/xQBSQHu.png',\n        [161, 240],\n        [178, 178],\n        [0, 0],\n        [150, 165],\n        4,\n        [0, 1, 2, 3],\n        false\n      ),\n      speed: 200,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n\n    // spawn dragonturtle from left\n    // if (Math.floor(gameTime * 1000) % 27 === 0) {\n    //   monsters.push({\n    //     pos: [0 - 140, Math.random() * (700 - 130)],\n    //     sprite: new Sprite(\n    //       'https://i.imgur.com/a3LCa6u.png',\n    //       [1100, 125],\n    //       [140, 130],\n    //       [0, 0],\n    //       [150, 150],\n    //       4,\n    //       [5, 4, 3, 2, 1, 0]),\n    //       speed: 100,\n    //       direction: direction[Math.floor(Math.random() * direction.length)]\n    //   });\n    // }\n  }\n\n  if (spawnRate === 0) {\n    // spawn taurospear from left\n    monsters.push({\n      hp: 20,\n      type: 'taurospear',\n      pos: [0 - 215, Math.random() * (700 - 175)],\n      sprite: new Sprite(\n        'https://i.imgur.com/6TPUotY.png',\n        [2175, 175],\n        [215, 175],\n        [0, 0],\n        [190, 190],\n        6,\n        [2, 1, 0],\n      false),\n      speed: 400,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n  }\n\n  // spawn wyvern from left\n  if (spawnRate === 0) {\n    monsters.push({\n      hp: 5,\n      type: 'wyvern',\n      pos: [0 - 175, Math.random() * (canvas.height - 175)],\n      sprite: new Sprite(\n        'https://i.imgur.com/EdvKlUj.png',\n        [1817, 0],\n        [175, 175],\n        [0, 0],\n        [170, 170],\n        8,\n        [0,1,2,3,4,5,4,3,2,1],\n        false\n      ),\n      speed: 300,\n      direction: direction[Math.floor(Math.random() * direction.length)]\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/enemies.js"],"sourceRoot":""}